(function(e){function t(t){for(var o,r,i=t[0],l=t[1],c=t[2],d=0,f=[];d<i.length;d++)r=i[d],a[r]&&f.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(o=!1)}o&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={indb:0},s=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([9,"chunk-vendors","chunk-common"]),n()})({"184e":function(e,t,n){"use strict";var o=n("5575"),a=n.n(o);a.a},3220:function(e,t,n){"use strict";var o=n("9885"),a=n.n(o);a.a},5575:function(e,t,n){},8857:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("a026"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container"},[e._m(0),n("div",{staticClass:"container"},[n("IndexDb",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.results,a=t.ready,s=t.deleteContact,r=(t.save,t.fakeUser),i=t.resetDB;return[n("div",{staticClass:"columns"},[n("div",{staticClass:"column has-text-right"},[n("button",{staticClass:"button is-small",attrs:{disabled:o.length<=3},on:{click:function(e){i()}}},[e._v("\n                Reset Database\n              ")]),n("hr")])]),n("div",{staticClass:"columns"},[a?[n("div",{staticClass:"column"},[n("button",{staticClass:"button is-info has-text-weight-bold",on:{click:r}},[n("span",{},[e._v("\n                    +\n                  ")]),e._v(" Add Contact\n                ")])]),n("div",{staticClass:"column has-text-right"},[n("small",[e._v("Total Contacts #"+e._s(o.length))])])]:e._e()],2),e._l(o,function(t){return n("div",{key:t.id,staticClass:"columns"},[n("div",{staticClass:"column"},[e._v("\n              "+e._s(t.name)+"\n            ")]),n("div",{staticClass:"column has-text-left"},[e._v("\n              "+e._s(t.email)+"\n            ")]),n("div",{staticClass:"column has-text-left"},[e._v("\n              "+e._s(t.phone)+"\n            ")]),n("div",{staticClass:"column is-1 has-text-right"},[n("button",{staticClass:"button is-small",on:{click:function(e){s(t.id)}}},[e._v("\n                Delete\n              ")])])])})]}}])}),e._m(1)],1)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("h3",{staticClass:"subtitle is-2 oswald is-uppercase"},[e._v("\n          Index DB Component\n        ")]),n("div",{staticClass:"is-size-5"},[e._v("\n          A Dexie.js powered vue.js scoped componenent that gives you access to the browsers\n          built in INDEXDB Database, allowing you to perform create, read,\n          update and delete database operations client-side. Making it easy to build interactive demos and prototypes without the need for a complex serverside setup and services.\n        ")]),n("hr")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hr")])}],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._t("default",null,{results:e.results,ready:e.ready,save:e.save,deleteContact:e.deleteContact,fakeUser:e.fakeUser,resetDB:e.resetContacts})],2)},i=[],l=(n("7f7f"),n("70f2")),c=n.n(l),u={methods:{generateID:function(){return this.newID}},computed:{newID:function(){return c()(new Date,"YYYYMMDDTHHmmss")}}},d=n("74ce"),f=(n("c5f6"),n("359c")),h=n.n(f),p=n("c707"),m=n.n(p),v={props:{connection:{type:Object,default:function(){return{contacts:"++id,name,email,phone"}}},database:{type:String,default:"dexie"},version:{type:Number,default:3}},data:function(){return{db:null,results:[],redord:null,ready:!1,dbExists:!1,faker:[{name:h.a.name.findName(),email:h.a.internet.exampleEmail(),phone:h.a.phone.phoneNumber()},{name:h.a.name.findName(),email:h.a.internet.exampleEmail(),phone:h.a.phone.phoneNumber()},{name:h.a.name.findName(),email:h.a.internet.exampleEmail(),phone:h.a.phone.phoneNumber()}]}},methods:{createDatabase:function(){this.db=new d["a"](this.database),this.db.version(this.version).stores(this.connection),this.db.open()},getAll:function(e){var t=this;e.toArray(function(n){t.results=m()(n,"name"),t.ready=!0,console.log("Records found",t.results.length),t.results.length||t.createDummy(e)}).catch(function(e){return console.log("DB table error",e)})},createDummy:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n||(n=this.faker),e.bulkPut(n).then(function(n){t.getAll(e),console.log("WoooHooo data created, lets rock and roll..."),console.log("last key",n)}).catch(function(e){console.log("errors",e)})},save:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n&&o?e.put(n,o).then(function(n){t.getAll(e),console.log("Record saved",n,"for",o)}).catch(function(e){return console.log("error",e)}):n&&e.put(n).then(function(n){t.getAll(e),console.log("Record updated",n)}).catch(function(e){return console.log("error",e)})},getById:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.get(n,function(e){t.item=e})},update:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o&&n&&e.update(n,o).then(function(n){n?(t.getAll(e),console.log("record updates",n)):console.log("Update failed")}).catch(function(e){return console.log("error",e)})},del:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&e.delete(n).then(function(){t.getAll(e),console.log("record deleted ".concat(n))}).catch(function(e){return console.log("errors",e)})},resetDB:function(e){var t=this;e.clear().then(function(){t.createDummy(e)}).catch(function(e){return console.log("Error resetting database",e)})}}},b={name:"DexieStore",mixins:[u,v],created:function(){d["a"].isOpen?console.log("DB closed"):(this.createDatabase(),console.log("Database name",this.db.name))},mounted:function(){this.db.contacts&&this.getAll(this.db.contacts),this.$nextTick(function(){})},methods:{fakeUser:function(){var e={name:h.a.name.findName(),email:h.a.internet.exampleEmail(),phone:h.a.phone.phoneNumber()};this.save(this.db.contacts,e)},deleteContact:function(e){this.del(this.db.contacts,e)},resetContacts:function(){this.resetDB(this.db.contacts)}}},g=b,_=(n("184e"),n("2877")),y=Object(_["a"])(g,r,i,!1,null,null,null);y.options.__file="Dexie.vue";var x=y.exports,D={name:"App",components:{IndexDb:x}},C=D,k=(n("3220"),Object(_["a"])(C,a,s,!1,null,null,null));k.options.__file="App.vue";var w=k.exports;n("ddb8"),n("1112");o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(w)}}).$mount("#app")},9:function(e,t,n){e.exports=n("8857")},9885:function(e,t,n){}});
//# sourceMappingURL=indb.78e9df6c.js.map