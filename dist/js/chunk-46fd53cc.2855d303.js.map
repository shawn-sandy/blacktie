{"version":3,"sources":["webpack:///./packages/blacktie-img/src/components/Image.vue?5654","webpack:///./packages/blacktie-img/src/components/Image.vue?b411","webpack:///./packages/blacktie-img/src/mixins/index.js","webpack:///packages/blacktie-img/src/components/Image.vue","webpack:///./packages/blacktie-img/src/components/Image.vue?a777","webpack:///./packages/blacktie-img/src/components/Image.vue","webpack:///./node_modules/in-viewport/in-viewport.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Image_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Image_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","attrs","name","ref","src","imgSrc","alt","imageAlt","_t","_v","_s","caption","_e","width","height","viewBox","fill","xmlns","rx","id","x1","y1","x2","y2","gradientUnits","stop-color","offset","stop-opacity","staticRenderFns","mixins","data","inview","methods","isInView","elm","arguments","length","undefined","inViewPort","$el","Imagevue_type_script_lang_js_","displayImg","isImageLoading","inView","props","classes","type","String","default","inlineStyles","mounted","components_Imagevue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","global","module","exports","inViewport","instances","supportsMutationObserver","MutationObserver","elt","params","cb","opts","container","document","body","debounce","failsafe","debounceValue","i","_debounce","_failsafe","isInViewport","push","createInViewport","addEvent","el","fn","attachEvent","addEventListener","func","wait","immediate","timeout","context","args","callNow","later","apply","clearTimeout","setTimeout","contains","documentElement","compareDocumentPosition","a","b","parentNode","watches","createWatches","scrollContainer","debouncedCheck","checkAll","watchInViewport","isVisible","remote","createRemote","watch","add","dispose","remove","offsetWidth","offsetHeight","eltRect","getBoundingClientRect","viewport","top","left","right","clientWidth","bottom","clientHeight","containerRect","visible","observeDOM","setInterval","isWatched","pos","indexOf","splice","observer","filter","Array","prototype","concat","mutations","some","knownNodes","mutation","nodes","call","slice","addedNodes","target","observe","childList","subtree","attributes"],"mappings":"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","file":"js/chunk-46fd53cc.2855d303.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Image.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Image.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('figure',{staticClass:\"blacktie-img\",style:(_vm.inlineStyles)},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.isInView)?[_c('img',{ref:\"img\",attrs:{\"src\":_vm.imgSrc,\"alt\":_vm.imageAlt}}),(_vm.caption)?_c('figcaption',{staticClass:\"blacktie-img-caption\"},[_vm._t(\"default\",[_c('h1',[_vm._v(\"\\n            \"+_vm._s(_vm.caption)+\"\\n          \")])])],2):_vm._e()]:[_c('svg',{attrs:{\"width\":\"100%\",\"height\":\"300\",\"viewBox\":\"0 0 100% 100%\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('rect',{attrs:{\"width\":\"100%\",\"height\":\"300\",\"rx\":\"20\",\"fill\":\"url(#paint0_linear)\"}}),_c('defs',[_c('linearGradient',{attrs:{\"id\":\"paint0_linear\",\"x1\":\"150\",\"y1\":\"0\",\"x2\":\"150\",\"y2\":\"300\",\"gradientUnits\":\"userSpaceOnUse\"}},[_c('stop',{attrs:{\"stop-color\":\"#C4C4C4\"}}),_c('stop',{attrs:{\"offset\":\"1\",\"stop-color\":\"#D0D0D0\",\"stop-opacity\":\"0.57\"}})],1)],1)])]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * @mixin\r\n */\r\nimport inViewPort from 'in-viewport'\r\nexport default {\r\n  data () {\r\n    return {\r\n      inview: true\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    isInView (elm = null) {\r\n      if (!elm) {\r\n        return inViewPort(this.$el)\r\n      }\r\n      return inViewPort(elm)\r\n    }\r\n  }\r\n\r\n}\r\n","<template>\r\n  <figure class=\"blacktie-img\" :style=inlineStyles>\r\n    <transition name=\"fade\">\r\n      <template v-if=\"isInView\">\r\n        <img ref=\"img\" :src=\"imgSrc\" :alt=\"imageAlt\">\r\n        <figcaption v-if=\"caption\" class=\"blacktie-img-caption\">\r\n          <!-- @slot add content for image caption -->\r\n          <slot>\r\n            <h1>\r\n              {{ caption }}\r\n            </h1>\r\n          </slot>\r\n        </figcaption>\r\n      </template>\r\n      <template v-else>\r\n        <svg width=\"100%\" height=\"300\" viewBox=\"0 0 100% 100%\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <rect width=\"100%\" height=\"300\" rx=\"20\" fill=\"url(#paint0_linear)\" />\r\n          <defs>\r\n            <linearGradient id=\"paint0_linear\" x1=\"150\" y1=\"0\" x2=\"150\" y2=\"300\" gradientUnits=\"userSpaceOnUse\">\r\n              <stop stop-color=\"#C4C4C4\" />\r\n              <stop offset=\"1\" stop-color=\"#D0D0D0\" stop-opacity=\"0.57\" />\r\n            </linearGradient>\r\n          </defs>\r\n        </svg>\r\n      </template>\r\n    </transition>\r\n  </figure>\r\n</template>\r\n\r\n<script>\r\nimport ViewPort from './../mixins'\r\n\r\n/**\r\n * Image component - resuable image component with captions and\r\n */\r\nexport default {\r\n  name: 'BlacktieImage',\r\n  mixins: [ViewPort],\r\n  data: function () {\r\n    return {\r\n      displayImg: 'hide',\r\n      isImageLoading: true,\r\n      inView: false\r\n    }\r\n  },\r\n  props: {\r\n    /**\r\n     * Add classes to customise the style\r\n     */\r\n    classes: {\r\n      type: String,\r\n      default: 'has-text-centered centered'\r\n    },\r\n    /**\r\n     * Image src file\r\n     */\r\n    imgSrc: {\r\n      type: String,\r\n      default: '//source.unsplash.com/collection/1278495/1300x400?='\r\n    },\r\n    /**\r\n     * Add inline styles\r\n     */\r\n    inlineStyles: {\r\n      type: String\r\n    },\r\n    /**\r\n     * Image alt tag\r\n     */\r\n    imageAlt: {\r\n      default: 'Cover Image'\r\n    },\r\n    /**\r\n     * Add a caption to Image\r\n     * via prop `caption=\"My cool image\"`\r\n     * via default image slot `<image>My cool image</image>`\r\n     */\r\n    caption: {\r\n      default: null\r\n    }\r\n  },\r\n  mounted () {}\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\">\r\n.hide {\r\n  display: none;\r\n}\r\nfigure {\r\n  overflow: hidden !important;\r\n  position: relative;\r\n  display: inline-block;\r\n  margin: 0 !important;\r\n  padding: 0 !important;\r\n  transition: all 0.35s;\r\n  box-sizing: border-box;\r\n  transition: all 0.5s ease;\r\n\r\n  img {\r\n    transition: all 3s ease;\r\n  }\r\n\r\n  figcaption.blacktie-img-caption {\r\n    color: azure;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 5px;\r\n    left: 0;\r\n    right: 0;\r\n    padding: 20px;\r\n    background-image: -webkit-linear-gradient(\r\n      bottom,\r\n      rgba(0, 0, 0, 0.7) 0%,\r\n      transparent 100%\r\n    );\r\n    background-image: linear-gradient(\r\n      to top,\r\n      rgba(0, 0, 0, 0.7) 0%,\r\n      transparent 100%\r\n    );\r\n    display: flex;\r\n    flex-direction: column;\r\n    font-style: normal;\r\n  }\r\n\r\n  .centered {\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .top {\r\n    justify-content: flex-start;\r\n  }\r\n\r\n  .bottom {\r\n    justify-content: flex-end;\r\n  }\r\n\r\n  .left {\r\n    align-items: flex-start;\r\n  }\r\n\r\n  .right {\r\n    align-items: flex-end;\r\n  }\r\n\r\n  img {\r\n    height: auto;\r\n    max-width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Image.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Image.vue?vue&type=template&id=5d9f2a52&\"\nimport script from \"./Image.vue?vue&type=script&lang=js&\"\nexport * from \"./Image.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Image.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Image.vue\"\nexport default component.exports","module.exports = inViewport;\n\nvar instances = [];\nvar supportsMutationObserver = typeof global.MutationObserver === 'function';\n\nfunction inViewport(elt, params, cb) {\n  var opts = {\n    container: global.document.body,\n    offset: 0,\n    debounce: 15,\n    failsafe: 150\n  };\n\n  if (params === undefined || typeof params === 'function') {\n    cb = params;\n    params = {};\n  }\n\n  var container = opts.container = params.container || opts.container;\n  var offset = opts.offset = params.offset || opts.offset;\n  var debounceValue = opts.debounce = params.debounce || opts.debounce;\n  var failsafe = opts.failsafe = params.failsafe || opts.failsafe;\n\n  // ensure backward compatibility with failsafe as boolean\n  if (failsafe === true) {\n    failsafe = 150;\n  } else if(failsafe === false) {\n    failsafe = 0;\n  }\n\n  // failsafe check always needs to be higher than debounceValue\n  if (failsafe > 0 && failsafe < debounceValue) {\n      failsafe = debounceValue + 50;\n  }\n\n  for (var i = 0; i < instances.length; i++) {\n    if (\n      instances[i].container === container &&\n      instances[i]._debounce === debounceValue &&\n      instances[i]._failsafe === failsafe\n    ) {\n      return instances[i].isInViewport(elt, offset, cb);\n    }\n  }\n\n  return instances[\n    instances.push(createInViewport(container, debounceValue, failsafe)) - 1\n  ].isInViewport(elt, offset, cb);\n}\n\nfunction addEvent(el, type, fn) {\n  if (el.attachEvent) {\n    el.attachEvent('on' + type, fn);\n  } else {\n    el.addEventListener(type, fn, false);\n  }\n}\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this, args = arguments;\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n\n    function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    }\n  };\n}\n\n// https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\nvar contains = function() {\n  if (!global.document) {\n    return true;\n  }\n  return global.document.documentElement.compareDocumentPosition ?\n    function (a, b) {\n      return !!(a.compareDocumentPosition(b) & 16);\n    } :\n    global.document.documentElement.contains ?\n      function (a, b) {\n        return a !== b && ( a.contains ? a.contains(b) : false );\n      } :\n      function (a, b) {\n        while (b = b.parentNode) {\n          if (b === a) {\n            return true;\n          }\n        }\n        return false;\n      };\n}\n\nfunction createInViewport(container, debounceValue, failsafe) {\n  var watches = createWatches();\n\n  var scrollContainer = container === global.document.body ? global : container;\n  var debouncedCheck = debounce(watches.checkAll(watchInViewport), debounceValue);\n\n  addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n  if (scrollContainer === global) {\n    addEvent(global, 'resize', debouncedCheck);\n  }\n\n  if (supportsMutationObserver) {\n    observeDOM(watches, container, debouncedCheck);\n  }\n\n  // failsafe check, every X we check for visible images\n  // usecase: a hidden parent containing eleements\n  // when the parent becomes visible, we have no event that the children\n  // became visible\n  if (failsafe > 0) {\n    setInterval(debouncedCheck, failsafe);\n  }\n\n  function isInViewport(elt, offset, cb) {\n    if (!cb) {\n      return isVisible(elt, offset);\n    }\n\n    var remote = createRemote(elt, offset, cb);\n    remote.watch();\n    return remote;\n  }\n\n  function createRemote(elt, offset, cb) {\n    function watch() {\n      watches.add(elt, offset, cb);\n    }\n\n    function dispose() {\n      watches.remove(elt);\n    }\n\n    return {\n      watch: watch,\n      dispose: dispose\n    };\n  }\n\n  function watchInViewport(elt, offset, cb) {\n    if (isVisible(elt, offset)) {\n      watches.remove(elt);\n      cb(elt);\n    }\n  }\n\n  function isVisible(elt, offset) {\n    if (!elt) {\n      return false;\n    }\n\n    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n      return false;\n    }\n\n    // Check if the element is visible\n    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n    if (!elt.offsetWidth || !elt.offsetHeight) {\n      return false;\n    }\n\n    var eltRect = elt.getBoundingClientRect();\n    var viewport = {};\n\n    if (container === global.document.body) {\n      viewport = {\n        top: -offset,\n        left: -offset,\n        right: global.document.documentElement.clientWidth + offset,\n        bottom: global.document.documentElement.clientHeight + offset\n      };\n    } else {\n      var containerRect = container.getBoundingClientRect();\n      viewport = {\n        top: containerRect.top - offset,\n        left: containerRect.left - offset,\n        right: containerRect.right + offset,\n        bottom: containerRect.bottom + offset\n      };\n    }\n\n    // The element must overlap with the visible part of the viewport\n    var visible =\n      (\n        eltRect.right >= viewport.left &&\n        eltRect.left <= viewport.right &&\n        eltRect.bottom >= viewport.top &&\n        eltRect.top <= viewport.bottom\n      );\n\n    return visible;\n  }\n\n  return {\n    container: container,\n    isInViewport: isInViewport,\n    _debounce: debounceValue,\n    _failsafe: failsafe\n  };\n}\n\nfunction createWatches() {\n  var watches = [];\n\n  function add(elt, offset, cb) {\n    if (!isWatched(elt)) {\n      watches.push([elt, offset, cb]);\n    }\n  }\n\n  function remove(elt) {\n    var pos = indexOf(elt);\n    if (pos !== -1) {\n      watches.splice(pos, 1);\n    }\n  }\n\n  function indexOf(elt) {\n    for (var i = watches.length - 1; i >= 0; i--) {\n      if (watches[i][0] === elt) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  function isWatched(elt) {\n    return indexOf(elt) !== -1;\n  }\n\n  function checkAll(cb) {\n    return function () {\n      for (var i = watches.length - 1; i >= 0; i--) {\n        cb.apply(this, watches[i]);\n      }\n    };\n  }\n\n  return {\n    add: add,\n    remove: remove,\n    isWatched: isWatched,\n    checkAll: checkAll\n  };\n}\n\nfunction observeDOM(watches, container, cb) {\n  var observer = new MutationObserver(watch);\n  var filter = Array.prototype.filter;\n  var concat = Array.prototype.concat;\n\n  observer.observe(container, {\n    childList: true,\n    subtree: true,\n    // changes like style/width/height/display will be catched\n    attributes: true\n  });\n\n  function watch(mutations) {\n    // some new DOM nodes where previously watched\n    // we should check their positions\n    if (mutations.some(knownNodes) === true) {\n      setTimeout(cb, 0);\n    }\n  }\n\n  function knownNodes(mutation) {\n    var nodes = concat.call([],\n      Array.prototype.slice.call(mutation.addedNodes),\n      mutation.target\n    );\n    return filter.call(nodes, watches.isWatched).length > 0;\n  }\n}\n"],"sourceRoot":""}