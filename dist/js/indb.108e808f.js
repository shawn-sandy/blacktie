(function(e){function t(t){for(var o,l,i=t[0],r=t[1],c=t[2],d=0,f=[];d<i.length;d++)l=i[d],a[l]&&f.push(a[l][0]),a[l]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,i=1;i<n.length;i++){var r=n[i];0!==a[r]&&(o=!1)}o&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},a={indb:0},s=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=r;s.push([2,"chunk-vendors"]),n()})({"0c0a":function(e,t,n){var o=n("2af6");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("9528e25c",o,!0,{sourceMap:!1,shadowMode:!1})},"184e":function(e,t,n){"use strict";var o=n("9482"),a=n.n(o);a.a},2:function(e,t,n){e.exports=n("8857")},"2af6":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"\n#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50;margin-top:60px\n}",""])},3220:function(e,t,n){"use strict";var o=n("0c0a"),a=n.n(o);a.a},"439b":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"",""])},8857:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("a026"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container"},[e._m(0),n("hr"),n("div",{staticClass:"container"},[n("DbStore",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.results,a=t.ready,s=t.deleteContact,l=(t.save,t.fakeUser);return[n("div",{staticClass:"columns"},[a?[n("div",{staticClass:"column"},[n("button",{staticClass:"button is-info has-text-weight-bold",on:{click:l}},[n("span",{},[e._v("\n                    +\n                  ")]),e._v(" Add Contact\n                ")])]),n("div",{staticClass:"column has-text-right"},[n("small",[e._v("Total Contacts #"+e._s(o.length))])])]:e._e()],2),e._l(o,function(t){return n("div",{key:t.id,staticClass:"columns"},[n("div",{staticClass:"column"},[e._v("\n              "+e._s(t.name)+"\n            ")]),n("div",{staticClass:"column has-text-left"},[e._v("\n              "+e._s(t.email)+"\n            ")]),n("div",{staticClass:"column has-text-left"},[e._v("\n              "+e._s(t.phone)+"\n            ")]),n("div",{staticClass:"column is-1 has-text-right"},[n("button",{staticClass:"button is-small",on:{click:function(e){s(t.id)}}},[e._v("\n                Delete\n              ")])])])})]}}])})],1)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("h1",{staticClass:"title is-1"},[e._v("\n          BlackTie\n        ")]),n("h3",{staticClass:"subtitle is-3"},[e._v("\n          Index DB Component\n        ")])]),n("div",{staticClass:"column has-text-right"},[n("button",{staticClass:"button is-small"},[e._v("\n          Reset Database\n        ")])])])}],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._t("default",null,{results:e.results,ready:e.ready,save:e.save,deleteContact:e.deleteContact,fakeUser:e.fakeUser}),n("hr"),n("div",{staticClass:"small has-text-centered"},[n("small",[e._v("\n      [ Info -  Database : "+e._s(e.database)+" .\n      Version: "+e._s(e.version)+" .\n      Connection: "+e._s(e.connection)+" ]\n    ")])]),n("hr")],2)},i=[],r=(n("7f7f"),n("70f2")),c=n.n(r),u={methods:{generateID:function(){return this.newID}},computed:{newID:function(){return c()(new Date,"YYYYMMDDTHHmmss")}}},d=(n("c5f6"),n("359c")),f=n.n(d),h=n("74ce"),p=n("c707"),m=n.n(p),v={props:{connection:{type:Object,default:function(){return{contacts:"++id,name,email,phone"}}},database:{type:String,default:"dexie"},version:{type:Number,default:3}},data:function(){return{db:null,results:[],ready:!1,dbExists:!1,faker:[{name:f.a.name.findName(),email:f.a.internet.exampleEmail(),phone:f.a.phone.phoneNumber()},{name:f.a.name.findName(),email:f.a.internet.exampleEmail(),phone:f.a.phone.phoneNumber()},{name:f.a.name.findName(),email:f.a.internet.exampleEmail(),phone:f.a.phone.phoneNumber()}]}},created:function(){h["a"].isOpen?console.log("DB closed"):(this.createDatabase(),console.log("Database name",this.db.name))},methods:{createDatabase:function(){this.db=new h["a"](this.database),this.db.version(this.version).stores(this.connection),this.db.open()},getAll:function(e){var t=this;e.toArray(function(n){t.results=m()(n,"name"),t.ready=!0,console.log("Records found",t.results.length),t.results.length||t.createDummy(e)}).catch(function(e){return console.log("DB table error",e)})},createDummy:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n||(n=this.faker),e.bulkPut(n).then(function(n){t.getAll(e),console.log("WoooHooo data created, lets rock and roll..."),console.log("last key",n)}).catch(function(e){console.log("errors",e)})},save:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n&&o?e.put(n,o).then(function(n){t.getAll(e),console.log("Record saved",n,"for",o)}).catch(function(e){return console.log("error",e)}):n&&e.put(n).then(function(n){t.getAll(e),console.log("Record updated",n)}).catch(function(e){return console.log("error",e)})},getById:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.get(n,function(e){t.item=e})},update:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o&&n&&e.update(n,o).then(function(n){n?(t.getAll(e),console.log("record updates",n)):console.log("Update failed")}).catch(function(e){return console.log("error",e)})},del:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&e.delete(n).then(function(){t.getAll(e),console.log("record deleted ".concat(n))}).catch(function(e){return console.log("errors",e)})}}},b={name:"DexieStore",mixins:[u,v],mounted:function(){this.db.contacts&&this.getAll(this.db.contacts),this.$nextTick(function(){})},methods:{fakeUser:function(){var e={name:f.a.name.findName(),email:f.a.internet.exampleEmail(),phone:f.a.phone.phoneNumber()};this.save(this.db.contacts,e)},deleteContact:function(e){this.del(this.db.contacts,e)}}},g=b,_=(n("184e"),n("2877")),y=Object(_["a"])(g,l,i,!1,null,null,null);y.options.__file="Dexie.vue";var x=y.exports,C={name:"App",components:{DbStore:x}},D=C,k=(n("3220"),Object(_["a"])(D,a,s,!1,null,null,null));k.options.__file="App.vue";var w=k.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(w)}}).$mount("#app")},9482:function(e,t,n){var o=n("439b");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("c742d19c",o,!0,{sourceMap:!1,shadowMode:!1})}});
//# sourceMappingURL=indb.108e808f.js.map